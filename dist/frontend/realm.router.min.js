"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();!function(e){var t=(e.isNode,e.realm);t.module("realm.router.BridgeRequest",[],function(){var e,t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"connect",value:function(e,t,r){for(var n=[],i=0;i<r.length;i++)n[i]=r[i];return new Promise(function(r,i){var o=new window.XMLHttpRequest;o.open("POST","/_realm_/bridge/",!0),o.setRequestHeader("Content-Type","application/json");var a={bridge:e,method:t,args:n};o.onreadystatechange=function(){if(4==o.readyState){var e=this.response;if(200===this.status)return r(JSON.parse(e));if(e.indexOf("html")>-1){var t=document.createElement("div");t.style="overflow-y:scroll;position:fixed; top:0; left:0;width:100%;height:100%",t.innerHTML=e,document.body.appendChild(t)}return i({status:this.status,response:e})}},o.send(a?JSON.stringify(a):"{}")})}}]),e}();return e=t}),t.module("realm.router.test.MyFirstBridge",["realm.router.BridgeRequest"],function(e){var t;return t={getSomething:function(){return e.connect("realm.router.test.MyFirstBridge","getSomething",arguments)}}})}(function(e){var t="undefined"!=typeof exports;return{isNode:t,realm:t?require("realm-js"):window.realm}}());